
! Authot    KMS - Martin Dubois, P.Eng.
! Copyright (C) 2020 KMS. All rights reserved.
! Product   NetworkHelper
! File      NHLib_Test/Tests/Test_6_Router_0.txt

! This file test error detection when parsing configuration file.

encapsulation dot1q
encapsulation dot1q 10
interface
interface tunnel
ip address
ip address 192.168.0.1 255.255.255.0
ip address dhcp invalid
ip nat outside invalid
ip route
network

interface test1
	encapsulation dot1q invalid
	encapsulation dot1q 4096
	encapsulation dot1q 10
	ip address dhcp
	ip address 1.2.3.4 255.255.255.0
	ip nat outside
	ip nat inside

interface test2
	ip address 1.2.3.4 255.255.255.0
	ip address dhcp
	ip nat inside
	ip nat outside

interface test2.1

interface test3.1

interface test3
	encapsulation dot1q 10
	ip address 1.2.3.4 255.255.255.0
	ip address dhcp

interface test4
	ip address dhcp

interface test4.1

! TEST INFO Access.Error
!           An access-list entry describes trafic not going on the network.

ip access-list extended 101	permit ip host 192.168.0.10 host 192.168.0.10

! TEST INFO Access.Error
!           An access-list entry describes trafic not going through the router.

ip access-list extended 102
	permit ip 192.168.0.0 0.0.0.255 host 192.168.0.10
	permit ip host 192.168.0.10 192.168.0.0 0.0.0.255
exit

! TEST INFO Access.Error
!           An access-list entry use the established keywork but does not describe TCP stream.

ip access-list extended 103 permit UDP host 192.168.0.10 eq 80 192.168.10.0 0.0.0.255 established

! TEST INFO Access.Error
!           Invalid port number

ip access-list extended 104 permit UDP any any eq 65537

! TEST INFO Access.Error
!           Invalid IPv4 net mask

ip access-list extended 105 permit IP 192.168.0.0 Invalid any

! TEST INFO DHCP.Error
!           Invalid network address

ip dhcp pool Alice
	network 192.168.0.1 255.255.255.0
exit

ip dhcp pool Bob
	network 0.0.0.1 255.255.255.0
exit

! TEST INFO Interface.Error
!           Invalid IPv4 address

interface f0/1
	ip address Invalid 255.255.255.0
exit

interface f0/2
	ip address 0.0.0.0 255.255.255.0
exit

! TEST INFO Interface.Error
!           More than one access-list for the same direction

interface f0/0
	ip access-group 101 in
	ip access-group 102 in
exit
